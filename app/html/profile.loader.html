<div class="col col-xs-12">

    <div class="row app-header" id="app-header">
        <div class="col col-xs-2">
            <h3>Diablo 3 Stash Search</h3>
        </div>
        <div class="col col-xs-7" id="search-pane">
        </div>
        <div class="col col-xs-3" id="input-pane">
            <div class="row input-row">
                <div class="col col-xs-6">
                    <input class="form-control input-sm" #apiKeyText [(value)]="apiKey" (blur)="apiKey=apiKeyText.value" placeholder="battle.net api key" required />
                </div>
                <div class="col col-xs-4">
                    <select class="form-control input-sm" [(value)]="locale" (change)="locale=($event.target.value)" >
                        <option value="eu">Europe</option>
                        <option value="us">US</option>
                    </select>
                </div>
            </div>
            <div class="row input-row">
                <div class="col col-xs-6">
                    <input class="form-control input-sm" #profileText [(value)]="profileKey" (blur)="profileKey=profileText.value" placeholder="pro-1234" required />
                </div>
                <div class="col col-xs-4">
                    <button class="form-control btn btn-primary" (click)="updateProfile()">Update profile</button>
                </div>
            </div>
        </div>
    </div>

    <div class="row" id="app-main">
        <div *ngIf="profileViewModel" class="col col-xs-4" id="profile-pane">
            <div class="row">
                <div class="col col-xs-12">
                    <span>{{ profileViewModel.profile.battleTag }}</span><span>{{ profileViewModel.profile.guildName }}</span>
                </div>
            </div>

            <ul *ngIf="profileViewModel.heroes">
                <li *ngFor="let heroViewModel of profileViewModel.heroes" class="hero-tab" [ngClass]="{'active':heroViewModel == selectedHeroViewModel }" (click)="selectHero(heroViewModel)">
                    <div class="row">
                        <hero-tab [heroViewModel]="heroViewModel" [isSelected]="heroViewModel == selectedHeroViewModel"></hero-tab>
                    </div>
                </li>
            </ul>
        </div>
        <!--<div class="col col-xs-2" id="hero-pane">
            <div *ngIf="selectedHeroViewModel && !selectedHeroViewModel.hasDetails">Loading</div>
            <div *ngIf="selectedHeroViewModel && selectedHeroViewModel.hasDetails">
                <div *ngFor="let stat of selectedHeroViewModel.getStats()" class="row">
                    <div class="col col-xs-6">
                        {{stat.name}}
                    </div>
                    <div class="col col-xs-6">
                        {{stat.value}}
                    </div>
                </div>
            </div>
        </div>-->
        <div class="col col-xs-5" id="hero-main">
            <hero [heroViewModel]="selectedHeroViewModel" (itemsSelected)="selectItems($event)" (itemSelected)="selectItem($event)"></hero>
        </div>
        <div class="col col-xs-3" id="item-detail">
            <div class="row" *ngIf="selectedHeroViewModel">
                <div class="col col-xs-12">
                    <span>
                        &nbsp;
                    </span>
                </div>
            </div>
            <div class="row item-card">
                <item-card [itemViewModel]="selectedItemViewModel"></item-card>
            </div>
        </div>
    </div>

</div>

<item-carousel [items]="highlightedItemViewModels"></item-carousel>